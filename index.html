<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="icon-48x48.png">
  <meta name="theme-color" content="#fff">
  <meta name="description" content="Travel log using an open source sheet to website template">
  <meta name="author" content="Yuin Chien">
  <title>Travel Log</title>

  <link href="https://fonts.googleapis.com/css?family=EB+Garamond:400,400i,500,500i,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-18616613-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-18616613-2');
  </script>

</head>

<body class="loading">
  <div id="loader"></div>
  <div id="sections" class="wip">
    <div id="footer">This is a sample site generated with a sheet-to-site template by <a href="https://yuinchien.com/">Yuin</a>. Create and access your personal Travel Log at <a href="/me">traces.report/me</a>. Checkout the instructions on <a href="https://github.com/yuinchien/traces.report">Github</a>.</div>
  </div>
  <script src="script.js"></script>
  <script>
  const handleClientLoad = () => {
  	fetchTabs(SAMPLE_SHEET_ID)
  		.then(data => {
  			var sheetName = "";
  			for(title in data) {
  				if(data[title].index==0) {
  					sheetName = data[title].title;
  					break;
  				}
  			}
  			fetchRows(SAMPLE_SHEET_ID, sheetName)
  				.then(data => {
  					create(data);
            createOverview(data);
            document.body.classList.remove('loading');
  				})
  		})
  }
  </script>
  <script async defer src="https://apis.google.com/js/api.js"
    onload="this.onload=function(){};handleClientLoad()"
    onreadystatechange="if (this.readyState === 'complete') this.onload()">
  </script>
</body>
